# 관통 PJT : 파이썬을 이용한 데이터 수집

## 관통 프로젝트란?

- 강의 시간에 배운 내용 + 추가적인 내용 학습(라이브에서)

## 진행 방식

1. 프로젝트 목표 소개
2. 이론 설명
3. 강사님과 함께 실습 진행
4. 도전 과제를 스스로 진행(6시까지 진행 후 gitlab에 제출)
    - 도전 과제는 세 개의 버전이 존재
        1. 금융 상품 비교 앱
        2. 영화 추천 서비스
        3. 도서 정보 검색 서비스

## 금융상품 비교 앱

- 마이뱅크, bankbook 같은 느낌

## 영화 추천 서비스

- 초창기부터 해왔던 프로젝트

## 도서 정보 검색 서비스

- 싸피 13기부터 진행되는 서비스
- 도서 정보를 검색하고 요약하여 짧은 오디오 북으로 제작

## 실습 목표

- 파이썬으로 인터넷이 있는 날씨 정보를 가져와 내가 원하는 정보만 출력

### 서버와 클라이언트

- 서버는 부탁을 받으면 처리해주거나, 부탁대로 원하는 값을 돌려주는 역할
- 클라이언트는 부탁하는 역할
- 네이버 주소를 입력하면 익히 알고 있는 네이버 메인 화면을 달라고 요청
- 서버는 클라이언트가 요청한 네이버 메인 화면을 돌려줌.
- [www.naver.com/원하는](http://www.naver.com/원하는) 요청 종류
- 날씨 정보를 가지고 있는 서버에게 해당 정보를 요청

### 크롬에서 api 받아서 사용하기

1. 웹 브라우저를 켜서 url에 접속
    - https://fakestoreapi.com/carts
    - fakestore에다가 카트라는 데이터를 요청했구나~
2. 서버에 정보를 달라고 파이썬 코드를 작성
    - 터미널 창 열기
    - requests 다운로드 받기
    - requests를 통해서 웹페이지에서 클라이언트가 요청을 보내는 것처럼 요청을 보내는 코드를 사용(라이브러리)
    - pip(파이썬 패키지 관리자)
    - pip install requests

### 서버는 어떻게 요청을 해석할까

- API를 통해서!!

### API

- 클라이언트가 원하는 기능을 수행하기 위해서 서버 측에 만들어 놓은 프로그램
    - 데이터 저장, 조회, 수정, 삭제 등등 가능
- 서버 측에 특정 주소로 요청이 오면 정해진 기능을 수행하는 API를 미리 만들어 둡니다.

### 오픈 API

- 외부에서 사용할 수 있도록 무료로 개방된 API
- 사용법은 공식 문서(Docs) 에 명시되어 있습니다.
- 악성 사용자가 너무 많은 많은 요청을 보내서 서버가 터질 것을 대비해서 API KEY 를 활용
- 요청을 보낼 때 API KEY를 같이 보냄.
- API KEY의 사용량 또한 제한되어 있음.

### API가 사용하는 데이터 형식 - JSON

- JavaScript Object Notation 의 약자. 직역하면 ‘자바스크립트 객체 표기법’
- 데이터를 저장하거나 전송할 때 많이 사용되는 경량의 텍스트 기반의 데이터 형식
- 단순히 데이터를 표현하는 방법 중 하나이다.
    - 그렇다면 라이브러리이다? == 패키지가 아니다!
    - 하지만 파이썬에서 JSON을 사용하기 위해서 만들어 놓은 패키지 이름이 JSON
- 앞에서 배운 dict 형태의 문자열이다.
- 파싱(Parsing)
    - 데이터를 의미 있는 구조로 분석하고 해석하는 과정
- json.loads()
    - JSON 형식의 문자열을 파싱하여 python Dictionary로 변환

### 날씨 데이터 수집

- OpenWeatherMap API
- 전세계의 날씨 데이터를 가져오기

## 데이터 사이언스

- 데이터 사이언스 프로세스
    1. 문제 정의
    2. 데이터 수집
    3. 데이터 전처리
    4. 데이터 분석
    5. 결과 해석 및 공유
- 자주 사용되는 파이썬 패키지
    - 데이터 처리 및 분석
        - Numpy : 수학 계산용 패키지. Pandas와 Metplotlib을 사용하기 위해 활용되는 패키지
        - Pandas : 원하는 데이터만 추출하거나 데이터를 분석할 때 활용되는 패키지
    - 데이터 시각화
        - Metplotlib : 그래프를 그려주는 패키지

## 요약

- 서버-클라이언트
- API 개념 및 활용법
- 파싱(list, dictionary)

# Data Structure

## dictionary

### 특징

1. 키(key) - 값(value)으로 쌍을 이루고 있다.
2. 순서가 없다.
3. {}(중괄호)로 만든다.
4. 키는 고유해야한다.
    1. 키는 불변한(imutable) 타입만 가능하다. (예: 문자열, 등등)
5. 값은 어떤 것도 다 허용
6. 딕셔너리 자체는 가변형.

### 딕셔너리 생성

```python
my_dict = {}       # 빈 딕셔너리
my_dict2 = dict()   # 빈 딕셔너리를 반환하는(return) 함수
my_dict3 = {'name' : 'Alice', 'age' : 31} # 초기화(사용하기 위해 초기값을 줌)
```

### 딕셔너리 관련 메서드

- .clear()
    - 딕셔너리의 모든 키/값 쌍을 제거
- .get(key[,default])
    - 키에 연결된 값/ None/ 기본값 반환
    - 여기의 대괄호는 생략 가능에 대한 정보, 대괄호를 사용하는 것은 아님.
- .keys()
    - 딕셔너리 키를 모은 객체를 반환
- .values()
    - 딕셔너리 값을 모든 객체를 반환
- .items()
    - 딕셔너리 키/값 쌍을 모은 객체를 반환
- .keys(), .values(), .items() 공통점 및 차이점
    1. 각각 고유한 클래스가 존재(dict_keys 처럼), 리스트가 아니다
    2. 딕셔너리에서만 사용하는 실시간 상태를 보여주는  view 객체이다.
    3. view 객체는 list 형변환시 인데스 접근 가능
    4. 하지만 순서가 있는 것은 아님!! 삽입 순서만 보장됨(인덱스 접근 불가능)
- .pop(key[, default])
    - 키를 제거하고 연결됐던 값을 반환(없으면 에러나 디폴트가 있으면 디폴트)’
    - age를 불러오면 딕셔너리에서 age가 사라짐
- .setdefault(key[,default])
    - 키와 연결된 값을 반환, 없다면 default와 연결한 키를 딕셔너리에 추가하고 default 반환
- .update([other])
    - other가 제공하는 키/값 쌍으로 딕셔너리를 갱신, 기존 키를 덮어씀

## set

### 특징

1. 중복과 순서가 없음
2. 해시(hash)가 가능한 객체만 담을 수 있다.
3. 요소를 추가하거나 제거할 수 있음(mutable)

### 세트 생성

```python
my_set={'a', 'b', 'c', 1, 2, 3,}
my_set1 = set()
my_set2 = set([1, 2, 3, 4])
```

### 세트 관련 메서드

- .add(x)
    - 세트에 x를 추가, 이미 있으면 변화 없음
- .clear()
    - 모든 항목을 제거
- .remove(x)
    - 항목 x를 제거, x가 없으면 Key error
- .pop()
    - 임의의 항목을 제거하고 반환
- .discard(x)
    - 항목 x를 제거, remove와 달리 없는 것을 해도 에러는 없음
- .update(iterable)
    - 세트에 다른 iterable 요소를 추가

### 해시 테이블(Hash Table)

- 해시 함수를 사용하여 변환한 값을 인덱스로 삼아 키와 데이터를 저장하는 자료구조
    - 데이터를 빠르게 저장하고 검색하기 위해 사용

### set의 요소, dictionary의 키와 해시테이블 관계

- set
    - 각 요소를 해시 함수로 변환해 나온 해시 값에 맞춰 해시 테이블 내부 버킷에 위치시킴
    - 첫번째에 있는 요소를 첫 버킷 위치에 위치시키지 않음
    - 그래서 순서라기보다 버킷 위치(인덱스)가 요소의 위치를 결정
    - 따라서 set는 순서를 보장하지 않음
- dictionary
    - 키 → 해시함수 → 해시값 → 해시 테이블에 저장
    - set와 달리 삽입 순서가 보장됨
        - 키를 추가한 순서대로 반복문 순회할 때 나오게 됨
        - 사용자에게 보여지는 키 순서는 삽입 순서가 유지되도록 설계된 것
- hashable
    - hash() 함수에 넣어 해시 값을 구할 수 있는 객체를 의미
    - 대부분 불변 타입은 해시 가능
        - 예) int, float, str, tuple
    - 가변형 객체는 기본적으로 해시 불가능
        - 가변형은 key로 사용할 수 없다.
        - imutable 해야해서