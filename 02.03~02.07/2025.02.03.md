# OOP 1

## 프로그래밍 패러다임

### 절차 지향 프로그래밍(Procedural Proramming)

- 프로그램을 함수와 로직(절차) 중심으로 작성
- 데이터를 함수에 전달하며 순차적으로 처리
- 변수와 함수를 별개로 다룬다
- 특징
    - 입력을 받고, 처리하고, 결과를 내는 과정이 위에서 아래로 순차적으로
    - 순차적인 명령어 실행
    - 데이터와 함수의 분리
    - 함수 호출의 흐림이 중요
- 데이터의 재사용보다 함수가 순서대로 역할을 함
- 한계
    1. 복잡성 증가
        - 프로그램 규모가 커질수록 데이터와 함수의 관리가 어려움
        - 전역 변수의 증가로 인한 관리의 어려움
    2. 유지보수 문제
        - 코드 수정 시 영향 범위 파악이 어려움

### 객체 지향 프로그램(Object Oriented Programming, OOP)

- 데이터와 함수를 하나의 단위(객체)로 묶어서 관리
- 객체들을 조합하고 재활용하는 방식으로 프로그램 구성
- 사람(객체) 안에 name, age와 이와 관련된 기능(메서드) 포함

```python
# 객체 지향 사고
# 예: 사람(객체) 안에 name, age와 이와 관련된 기능(메서드) 포함
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def introduce(self):
        print(f'안녕하세요, {self.name}입니다. 나이는 {self.age}살입니다.')

alice = Person('Alice', 25)
alice.introduce()  # 객체가 자신의 정보를 출력
```

- 특징
    - 프로그램을 데이터(변수)와 그 데이터를 처리하는 함수(메서드)를 하나의 단위(객체)로 묶어서 조직적으로 관리
    - 데이터와 메서드의 결합

### 절차 지향 & 객체 지향

1. 절차 지향
    1. 데이터와 해당 데이터를 처리하는 함수(절차)가 분리
    2. 함수 호출의 흐름이 중요
2. 객체 지향
    1. 데이터와 해당 데이터를 처리하는 메서드(함수)를 하나의 객체(클래스)로 묶음
    2. 객체 간 상호작용과 메시지 전달이 중요
- 이 둘은 대조(vs)되는 관점이 아니다!!!!
- 객체 지향에서는 행동을 호출하는 데이터가 존재하게 됨(능동적인 존재)
- 객체 지향에서는 ‘누가.행동한다’ 하는 실제 세계에 더 맞음
- 객체 지향은 절차 지향을 기반으로 두고 추가적인 내용임

## 객체와 클래스

### 객체(Object)

- 실제 존재하는 사물을 추상화 한 것
- ‘속성(변수)’과 ‘동작(메서드)’을 가짐
- 보통 ‘파이썬의 모든 것은 객체다’ 하고 함

### 클래스(class)

- 객체를 만들기 위한 설계도
- 데이터와 기능을 함께 묶는 방법을 제공
- 파이썬에서 타입을 표현하는 방법
    - 예를 들어 ‘str’ 라는 class가 존재함
    - a = ‘abd’ 는 str이라는 class로 만들어진 객체

### 객체 특징

1. 속성(attribute)
    - 객체의 상태/데이터
2. 메서드(Method)
    - 객체의 행동/기능
3. 고유성
    - 각 객체는 고유한 특성을 가짐

### 클래스(class)

- 데이터와 기능을 하나의 틀로 묶어서 관리하는 방법으로 사용자 정의 객체를 만드는 수단이자 속성과 메서드를 정의
- 클래스 정의
    - class 키워드
    - 클래스 이름은 파스칼 케이스(Pascal Case)
        - 이름 규칙으로, 대문자로 시작하고 _를 사용하는 것이 아닌 다음 문자를 대문자로 시작
    - __init__ 메서드는 ‘생성자 메서드’로 불리며, 새로운 객체를 만들 때 필요한 초기값을 설정
        - 언더바가 붙은 메서드는 개발자가 호출 타이밍을 설정하는 것이 아니라 자동으로 결정됨.
- 인스턴스(instance)
    - 클래스를 통해 생성된 객체(그냥 객체라고 불러도 되지만, 정확한 명칭은 인스턴스)
    - 설계도로 만들어진 인스턴스가 함수를 호출
- 클래스와 인스턴스
    - 가수라는 클래스로 가수들을 찍어낸다.
        - 아이유는 객체다(O)
        - 아이유는 인스턴스다.(X)
        - 아이유는 가수의 인스턴스다.(O)
    - 인스턴스라는 표현을 쓰기 위해서는 꼭 ‘누구(어떤 클래스)’의 인스턴스인지 명시
    - 변수 name의 타입은 str이다.
    - 변수 name은 str 클래스의 인스턴스이다.
    - 우리가 사용해왔던 데이터 타입은 사실 모두 클래스였다.
- 하나의 객체(object)는 특정 클래스의 인스턴스(instance)이다.
    - 123, 900, 5는 클래스 int의 인스턴스
    - ‘hello’, ‘bye’는 클래스 str의 인스턴스
    - [123, 89, 1,], []은 클래스 list의 인스턴스
- 클래스의 구조
    - 생성자 메서드
        - 인스턴스 생성 시 자동으로 호출되는 특별한 메서드
        - __init__이라는 이름의 메서드로 정의
        - 인스턴스 변수의 초기화를 담당
        - 새로운 인스턴스가 생성될 때 호출
    - 인스턴스 변수(속성)
        - 각 인스턴스별 고유한 속성
        - self.변수명 형태로 정의
        - 인스턴스마다 독립적인 값 유지
        
        ```python
        class Circle:
            pi = 3.14
            #생성자 메서드
            def __init__(self, radius):
                self.radius = radius
        ```
        
        - radius 인자가 꼭 있어야 하는 class
        
        ```python
        c1 = Circle()  # __init__() missing 1 required positional argument: 'radius'
        c1 = Circle(1)  # 1
        c2 = Circle(5)  # 5
        ```
        
- 클래스 변수(속성)
    - 모든 인스턴스가 공유하는 속성
    - 클래스 내부에서 직접 정의
        
        ```python
        print(c1.pi)  # 3.14
        print(c2.pi)  # 3.14
        ```
        
- 클래스 변수와 인스턴스 변수
    - 클래스 변수와 동일한 이름으로 인스턴스 변수 생성시 클래스 변수가 아닌 인스턴스 변수에 먼저 참조
    
    ```python
    class Circle:
        pi = 3.14
    
        def __init__(self, radius):
            self.radius = radius
    
    c1 = Circle(5)
    c2 = Circle(10)
    
    print(c1.radius)  # 5
    print(c2.radius)  # 10
    
    # c1의 인스턴스 변수 pi를 생성
    c1.pi = 100
    
    print(c1.pi)  # 100
    print(Circle.pi)  # 3.14
    
    # c2는 인스턴스 변수 pi가 없으므로 클래스 변수 pi를 참조
    print(c2.pi)  # 3.14
    ```
    
    - 자기 자신에게 먼저 찾으므로, c1.pi = 100을 만들었기 때문에 c1.pi는 100

### 메서드(Method)

- 클래스 내부에 정의된 함수로, 해당 객체가 어떻게 동작할지를 정의
- 메서드의 종류
    1. 인스턴스 메서드
        - 지금까지 배웠던 내용, instance.method()로 호출했었음
    2. 클래스 메서드
    3. 스태틱 메서드
- 인스턴스 메서드(instance method)
    - 클래스로부터 생성된 각 인스턴스에서 호출할 수 있는 메서드
    - 인스턴스 메서드 구조
        - 클래스 내부에 정의되는 메서드의 기본
        - 반드시 첫 번째 인자로 인스턴스 자신(self)를 받음
        - 인스턴스의 속성에 접근하거나 변경 가능
        - self는 매개변수의 이름이므로 바꿔도 되지만, 그냥 self 쓰기
        - self 동작 원리
            - upper 메서드를 사용해 문자열 ‘hello’를 대문자로 변경하기
                - ‘hello’.upper()
            - 하지만 실제로 파이썬에서는
                - str.upper(’hello’)
                - 자기 자신을 호출하는 방식으로 진행됨.
            - 인스턴스 메서드의 첫번째 인자가 반드시 인스턴스 자기 자신임
    - 생성자 메서드(constructor method)
        - 인스턴스 객체가 생성될 때 자동으로 호출되는 메서드
        - 큰 의미에서 인스턴스 메서드에 포함됨
        
        ```python
        class Person:
            def __init__(self, name):
                # 왼쪽 name : 인스턴스 변수 name
                # 오른쪽 name : 생성자 메서드의 매개변수 이름
                self.name = name
                print('인스턴스가 생성되었습니다.')
        
            def greeting(self):
                print(f'안녕하세요 {self.name}입니다.')
        
        person1 = Person('지민')  # 인스턴스가 생성되었습니다.
        person1.greeting()  # 안녕하세요. 지민입니다.
        Person.greeting(person1)  # 안녕하세요. 지민입니다.
        ```
        
- 클래스 메서드(class method)
    - 클래스가 호출하는 메서드
    - 클래스 변수를 조작하거나 클래스 레벨의 동작을 수행
    - 클래스 메서드 구조
        - @classmethod 데코레이터를 사용하여 정의
        - 호출 시, 첫번째 인자로 해당 메서드를 호출하는 클래스(cls)가 전달됨
        - 클래스를 인자로 받아 클래스 속성을 변경하거나 읽는데 사용
            
            ```python
            class Person:
                population = 0
            
                def __init__(self, name):
                    self.name = name
                    Person.increase_population()
                
                @ classmethod
                def increase_population(cls):
                    cls.population += 1
            
            person1 = Person('Alice')
            person2 = Person('Bob')
            print(Person.population)  # 2
            ```
            
        - 클래서 변수를 조작했음
- 스태틱 메서드(static method, 정적 메서드)
    - 클래스, 인스턴스와 상관없이 독립적으로 동작하는 메서드
    - 스태틱 메서드 구조
        - @staticmethod 데코레이터를 사용하여 정의
        - 호출시 자동으로 전달 받는 인자가 없음
        - 인스턴스나 클래스 속성에 직접 접근하지 않는, 도우미 함수와 비슷한 역할
        - 그냥 활용을 위한 일반 함수라고 생각하자!!
    - 예시
        - 수학에 관련 기능을 담는 MathUtils 클래스에서 덧셈 기능을 제공하는 예시
        
        ```python
        class MathUtils:
        	@staticmethod
        	def add(a, b):
        		return a + b
        
        print(MathUtils.add(3,5))  # 8
        ```
        
- 메서드 활용
    - 입출금이 가능한 은행 계좌 클래스 만들기
- 누가 어떤 메서드를 사용해야 할까
    - 클래스가 사용해야 할 것
        - 클래스 메서드
        - 스태틱 메서드
    - 인스턴스가 사용해야 할 것
        - 인스턴스 메서드

## 참고

### 클래스와 인스턴스 간의 이름 공간

- 클래스를 정의하면 클래스와 해당하는 이름 공간 생성
- 인스턴스를 만들면 인스턴스 객체가 생성되고 독립적인 이름 공간 생성
- 인스턴스에서 특정 속성에 접근하면, 인스턴스 → 클래스 순으로 탐색

### 매직 메서드

- 언더바 2개 __는 특수한 동작을 위해 만들어진 메서드
- 인스턴스 메서드
- 특정 상황에 자동으로 호출
- 스페셜 혹은 매직 메서드라고 부름
    
    
    | 매직 메서드 | 설명 |
    | --- | --- |
    | `__init__` | 객체 생성 시 초기화 |
    | `__str__` / `__repr__` | 문자열 출력 포맷 지정 |
    | `__add__`, `__sub__`, `__mul__` | 연산자 오버로딩 |
    | `__len__` | `len()` 호출 시 실행 |
    | `__getitem__`, `__setitem__`, `__delitem__` | 인덱싱/수정/삭제 가능하게 |
    | `__eq__`, `__lt__`, `__gt__` | 객체 비교 지원 |

### 데코레이터

- 다른 함수의 코드를 유지한 채로 수정하거나 확장하기 위해 사용되는 함수
- 아래 있는 함수가 데코레이터 함수의 인자에 들어감